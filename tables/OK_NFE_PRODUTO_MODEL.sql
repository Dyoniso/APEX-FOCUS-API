CREATE TABLE  "OK_NFE_PRODUTO_MODEL" 
   (	"ID_NFE_PRODUTO" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"REF_NFE" NUMBER NOT NULL ENABLE, 
	"ID_PRODUTO" NUMBER NOT NULL ENABLE, 
	"DESCRICAO" VARCHAR2(200) NOT NULL ENABLE, 
	"CFOP" NUMBER NOT NULL ENABLE, 
	"UNIDADE_COMERCIAL" VARCHAR2(10) NOT NULL ENABLE, 
	"QUANTIDADE_COMERCIAL" NUMBER NOT NULL ENABLE, 
	"VALOR_UNITARIO_COMERCIAL" FLOAT(126) NOT NULL ENABLE, 
	"VALOR_UNITARIO_TRIBUTAVEL" FLOAT(126) NOT NULL ENABLE, 
	"UNIDADE_TRIBUTAVEL" VARCHAR2(10) NOT NULL ENABLE, 
	"CODIGO_NCM" NUMBER NOT NULL ENABLE, 
	"QUANTIDADE_TRIBUTAVEL" NUMBER NOT NULL ENABLE, 
	"VALOR_BRUTO" FLOAT(126) NOT NULL ENABLE, 
	"ICMS_SITUACAO_TRIBUTARIA" NUMBER NOT NULL ENABLE, 
	"ICMS_ORIGEM" NUMBER NOT NULL ENABLE, 
	"PIS_SITUACAO_TRIBUTARIA" VARCHAR2(10) NOT NULL ENABLE, 
	"COFINS_SITUACAO_TRIBUTARIA" VARCHAR2(10) NOT NULL ENABLE, 
	 CONSTRAINT "OK_NFE_PRODUTO_MODEL_PK" PRIMARY KEY ("ID_NFE_PRODUTO")
  USING INDEX  ENABLE
   )
/
ALTER TABLE  "OK_NFE_PRODUTO_MODEL" ADD CONSTRAINT "OK_NPM_NOTA_REF_FK" FOREIGN KEY ("REF_NFE")
	  REFERENCES  "OK_NFE_MODEL" ("ID_NFE_MODEL") ENABLE
/

CREATE OR REPLACE EDITIONABLE TRIGGER  "BI_OK_NFE_PRODUTO_MODEL" 
  before insert on "OK_NFE_PRODUTO_MODEL"               
  for each row  
begin   
  if :NEW."ID_NFE_PRODUTO" is null then 
    select "OK_NFE_MODEL_SEQ".nextval into :NEW."ID_NFE_PRODUTO" from sys.dual; 
  end if; 
end; 

/
ALTER TRIGGER  "BI_OK_NFE_PRODUTO_MODEL" ENABLE
/
